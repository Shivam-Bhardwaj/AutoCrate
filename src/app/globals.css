@import '../styles/tokens.css';
@import '../styles/responsive.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Modern Engineering Dashboard Design System */
/* Stunning Visual Effects with Professional Engineering Aesthetics */

/* Modern Gradient Backgrounds */
.bg-engineering {
  background: linear-gradient(135deg, 
    #667eea 0%, 
    #764ba2 25%, 
    #f093fb 50%, 
    #f5576c 75%, 
    #4facfe 100%);
  background-size: 400% 400%;
  animation: gradientShift 15s ease infinite;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.glass-morphism {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
}

.glass-morphism-dark {
  background: rgba(30, 41, 59, 0.3);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(148, 163, 184, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.card-glow {
  box-shadow: 
    0 0 20px rgba(99, 102, 241, 0.15),
    0 0 40px rgba(167, 85, 221, 0.10),
    0 4px 18px rgba(0, 0, 0, 0.1);
}

.text-glow {
  text-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
}

@layer base {
  :root {
    /* Legacy HSL variables for backward compatibility */
    --background: 0 0% 100%;
    --foreground: 0 0% 9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 9%;
    --primary: 204 100% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;
    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 89%;
    --input: 0 0% 100%;
    --ring: 204 100% 50%;
    --radius: 0.5rem;
  }

  .dark {
    /* Legacy HSL variables for backward compatibility */
    --background: 222 84% 5%;
    --foreground: 210 40% 98%;
    --card: 222 84% 5%;
    --card-foreground: 210 40% 98%;
    --popover: 222 84% 5%;
    --popover-foreground: 210 40% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 222 84% 5%;
    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;
    --accent: 217 33% 17%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;
    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 217 91% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    font-family: var(--font-family-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-text-primary;
    font-size: var(--font-size-body);
    line-height: var(--line-height-body);
    font-weight: var(--font-weight-normal);
    font-feature-settings: 'liga' 1, 'kern' 1;
    text-rendering: optimizeLegibility;
    overflow: hidden;
    height: 100vh;
  }

  html {
    height: 100vh;
    overflow: hidden;
  }

  /* Headings */
  h1 {
    @apply text-h1 text-text-primary;
  }

  h2 {
    @apply text-h2 text-text-primary;
  }

  h3 {
    @apply text-h3 text-text-primary;
  }

  /* Links */
  a {
    @apply text-primary transition-colors duration-fast;
  }

  a:hover {
    @apply text-primary-hover;
  }

  /* Focus Styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-focus ring-offset-2 ring-offset-background;
  }

  /* Selection */
  ::selection {
    @apply bg-primary-hover text-text-primary;
  }

  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-borders rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-text-secondary;
  }

  /* Mobile touch-friendly tap targets */
  button,
  a,
  input,
  select,
  textarea {
    @apply min-h-[44px] sm:min-h-[auto];
  }

  /* Prevent horizontal scroll on mobile */
  html,
  body {
    @apply overflow-x-hidden;
    max-width: 100vw;
  }

  /* Improve text readability on mobile */
  @media (max-width: 640px) {
    html {
      font-size: 16px;
    }
  }
}

@layer components {
  /* Professional Button Styles */
  .btn {
    @apply inline-flex items-center justify-center rounded-md font-medium transition-all duration-fast;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-focus focus-visible:ring-offset-2;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply bg-primary text-white hover:bg-primary-hover active:bg-primary-hover;
    @apply shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-button-secondary text-text-primary border border-borders;
    @apply hover:bg-hover active:bg-active;
    @apply shadow-sm hover:shadow-md;
  }

  .btn-ghost {
    @apply text-text-secondary hover:bg-hover hover:text-text-primary;
  }

  .btn-destructive {
    @apply bg-error text-white hover:bg-error active:bg-error;
    @apply shadow-sm hover:shadow-md;
  }

  .btn-success {
    @apply bg-success text-white hover:bg-success active:bg-success;
    @apply shadow-sm hover:shadow-md;
  }

  .btn-warning {
    @apply bg-warning text-white hover:bg-warning active:bg-warning;
    @apply shadow-sm hover:shadow-md;
  }

  /* Button Sizes */
  .btn-sm {
    @apply h-8 px-3 text-small;
  }

  .btn-md {
    @apply h-10 px-4 text-body;
  }

  .btn-lg {
    @apply h-12 px-6 text-body;
  }

  .btn-icon {
    @apply h-10 w-10 p-0;
  }

  /* Professional Input Styles */
  .input {
    @apply flex h-10 w-full rounded-md border border-borders bg-input px-3 py-2 text-body;
    @apply placeholder:text-text-secondary;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-focus focus-visible:ring-offset-2;
    @apply disabled:cursor-not-allowed disabled:opacity-50;
    @apply transition-colors duration-fast;
  }

  .input:hover {
    @apply border-text-secondary;
  }

  .input:focus {
    @apply border-focus;
  }

  .input-error {
    @apply border-error focus-visible:ring-error;
  }

  /* Professional Card Styles */
  .card {
    @apply rounded-lg border border-borders bg-card shadow-sm;
    @apply transition-shadow duration-fast;
  }

  .card:hover {
    @apply shadow-md;
  }

  .card-header {
    @apply p-6 pb-4;
  }

  .card-content {
    @apply p-6 pt-0;
  }

  .card-footer {
    @apply p-6 pt-4;
  }

  /* Professional Panel Styles */
  .panel {
    @apply bg-surface border border-borders rounded-lg shadow-sm;
    @apply transition-all duration-fast;
  }

  .panel:hover {
    @apply shadow-md;
  }

  .panel-header {
    @apply bg-toolbar border-b border-borders px-4 py-3;
    @apply text-h3 font-semibold text-text-primary;
  }

  .panel-content {
    @apply p-4;
  }

  /* Professional Toolbar Styles */
  .toolbar {
    @apply bg-toolbar border-b border-borders px-4 py-2;
    @apply flex items-center gap-2;
  }

  .toolbar-group {
    @apply flex items-center gap-1;
  }

  /* Professional Table Styles */
  .table {
    @apply w-full text-body;
  }

  .table th {
    @apply bg-toolbar border-b border-borders px-4 py-3 text-left font-medium text-text-primary;
  }

  .table td {
    @apply border-b border-borders px-4 py-3 text-text-primary;
  }

  .table tr:hover {
    @apply bg-hover;
  }

  .table tr:nth-child(even) {
    @apply bg-surface-accent;
  }

  /* Professional Code Styles */
  .code {
    @apply font-mono text-small bg-surface px-1.5 py-0.5 rounded border border-borders;
    @apply text-text-primary;
  }

  .code-block {
    @apply bg-surface border border-borders rounded-md p-4 overflow-x-auto;
    @apply font-mono text-small text-text-primary;
  }

  /* Professional Badge Styles */
  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-caption font-medium;
  }

  .badge-default {
    @apply bg-surface text-text-primary border border-borders;
  }

  .badge-primary {
    @apply bg-primary text-white;
  }

  .badge-success {
    @apply bg-success text-white;
  }

  .badge-warning {
    @apply bg-warning text-white;
  }

  .badge-error {
    @apply bg-error text-white;
  }

  /* Professional Alert Styles */
  .alert {
    @apply rounded-lg border p-4;
  }

  .alert-info {
    @apply border-info bg-info-bg text-info;
  }

  .alert-success {
    @apply border-success bg-success-bg text-success;
  }

  .alert-warning {
    @apply border-warning bg-warning-bg text-warning;
  }

  .alert-error {
    @apply border-error bg-error-bg text-error;
  }

  /* Professional Separator */
  .separator {
    @apply bg-borders;
  }

  .separator-horizontal {
    @apply h-px w-full;
  }

  .separator-vertical {
    @apply h-full w-px;
  }

  /* Professional Label Styles */
  .label {
    @apply text-small font-medium text-text-primary;
    @apply cursor-pointer;
  }

  .label-required::after {
    content: '*';
    @apply text-error ml-1;
  }

  /* Professional Form Styles */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply label;
  }

  .form-error {
    @apply text-caption text-error;
  }

  .form-help {
    @apply text-caption text-text-secondary;
  }

  /* Professional Loading States */
  .loading {
    @apply animate-pulse bg-surface rounded;
  }

  .loading-text {
    @apply bg-text-secondary rounded;
  }

  /* Professional Status Indicators */
  .status-indicator {
    @apply inline-flex items-center gap-2 text-small;
  }

  .status-online {
    @apply text-success;
  }

  .status-offline {
    @apply text-text-secondary;
  }

  .status-error {
    @apply text-error;
  }

  .status-warning {
    @apply text-warning;
  }

  /* Professional Navigation */
  .nav-link {
    @apply text-text-primary hover:text-primary transition-colors duration-fast;
    @apply px-3 py-2 rounded-md;
  }

  .nav-link.active {
    @apply bg-primary text-white hover:text-white;
  }

  /* Professional Dropdown */
  .dropdown {
    @apply bg-card border border-borders rounded-md shadow-lg;
    @apply p-1 z-dropdown;
  }

  .dropdown-item {
    @apply px-3 py-2 text-body text-text-primary rounded-sm;
    @apply hover:bg-hover cursor-pointer transition-colors duration-fast;
  }

  /* Professional Modal */
  .modal-backdrop {
    @apply fixed inset-0 bg-black-overlay backdrop-blur-sm z-modal-backdrop;
  }

  .modal {
    @apply fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2;
    @apply bg-card border border-borders rounded-lg shadow-xl;
    @apply p-6 z-modal;
  }

  /* Professional Tooltip */
  .tooltip {
    @apply bg-card border border-borders rounded-md shadow-lg;
    @apply px-3 py-2 text-small text-text-primary z-tooltip;
  }

  /* Professional Toast */
  .toast {
    @apply bg-card border border-borders rounded-lg shadow-lg;
    @apply p-4 z-toast;
  }

  /* Utility Classes */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .card,
    .panel,
    .input,
    .btn {
      @apply border-2;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .btn,
    .card,
    .panel,
    .input {
      @apply transition-none;
    }
  }
}

@layer utilities {
  /* Professional Spacing Utilities */
  .space-section {
    @apply space-y-8;
  }

  .space-component {
    @apply space-y-4;
  }

  .space-element {
    @apply space-y-2;
  }

  /* Professional Layout Utilities */
  .container-professional {
    @apply mx-auto max-w-7xl px-4 sm:px-6 lg:px-8;
  }

  .grid-professional {
    @apply grid gap-6;
  }

  .grid-cols-professional {
    @apply grid-cols-1 md:grid-cols-2 lg:grid-cols-3;
  }

  .flex-professional {
    @apply flex items-center justify-between;
  }

  /* Professional Focus Utilities */
  .focus-professional {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-focus focus-visible:ring-offset-2;
  }

  /* Professional Text Utilities */
  .text-professional {
    @apply text-text-primary leading-relaxed;
  }

  .text-professional-secondary {
    @apply text-text-secondary;
  }

  .text-professional-muted {
    @apply text-text-secondary;
  }

  /* Professional Shadow Utilities */
  .shadow-professional {
    @apply shadow-md;
  }

  .shadow-professional-lg {
    @apply shadow-lg;
  }

  .shadow-professional-xl {
    @apply shadow-xl;
  }
}
